{"remainingRequest":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/test/Capstone/vue/milestone8_titus/src/components/UploadProfilePic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/src/components/UploadProfilePic.vue","mtime":1614043632800},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlVwbG9hZFByb2ZpbGVQaWMiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxlSW5wdXQ6ICcnLAogICAgICAgICAgICB2YWxpZFR5cGVzOiBbImltYWdlL2pwZyIsICJpbWFnZS9qcGVnIiwgImltYWdlL3BuZyJdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uKCkgeyAgICAgICAgICAgIAogICAgICAgICAgICBpZih0aGlzLnZhbGlkVHlwZXMuaW5jbHVkZXModGhpcy5maWxlSW5wdXQudHlwZSkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUaGlzIGlzIGEgdmFsaWQgZmlsZSIpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVJbnB1dCkKCiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZm9ybURhdGEgb2JqZWN0CiAgICAgICAgICAgICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZmQuYXBwZW5kKCdpbWFnZScsIHRoaXMuZmlsZUlucHV0LCB0aGlzLmZpbGVJbnB1dC5uYW1lKQogICAgICAgICAgICAgICAgZmQuYXBwZW5kKCd1c2VySUQnLCAzKQogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdC9taWxlc3RvbmU4X3RpdHVzL3NyYy9kYi9oYW5kbGVQcm9maWxlSW1hZ2UucGhwIiwgZmQpCiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5kYXRhID09PSAiQ291bGQgbm90IHVwbG9hZCBpbWFnZS4iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3VsdC5kYXRhKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJJbWFnZSB1cGxhb2RlZCBzdWNjZXNzZnVsbHkhIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBmaWxlIHlvdSBhdHRlbXB0ZWQgdG8gdXBsb2FkIGlzIGFuIGludmFsaWQgdHlwZS4gUGxlYXNlIGNsZWFyIHRoZSBmaWVsZCBhbmQgdHJ5IHVwbG9hZGluZyBhIFBORywgSlBHL0pQRUcuIikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["UploadProfilePic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"UploadProfilePic.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <v-container>\n            <v-row justify=\"center\">\n                <v-col cols=\"12\">\n                    <v-form id=\"uploadProfilePic\" @submit.prevent=\"validateForm()\">\n                        <h2>Change Your Profile Pic Here:</h2>\n                        <v-file-input\n                            v-model=\"fileInput\"\n                            label=\"Click Me!\"\n                            counter\n                            clearable\n                            :rules=\"['Required']\"\n                        ></v-file-input>\n                        <br>\n                        <v-btn\n                            type=\"submit\"\n                            color=\"primary\"\n                            rounded\n                            form=\"uploadProfilePic\"\n\n                        >\n                            Upload\n                        </v-btn>\n                    </v-form>\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: \"UploadProfilePic\",\n    data() {\n        return {\n            fileInput: '',\n            validTypes: [\"image/jpg\", \"image/jpeg\", \"image/png\"]\n        }\n    },\n    methods: {\n        validateForm: function() {            \n            if(this.validTypes.includes(this.fileInput.type)) {\n                console.log(\"This is a valid file\")\n                console.log(this.fileInput)\n\n                // Create formData object\n                const fd = new FormData();\n                fd.append('image', this.fileInput, this.fileInput.name)\n                fd.append('userID', 3)\n                axios.post(\"http://localhost/milestone8_titus/src/db/handleProfileImage.php\", fd)\n                .then(result => {\n                    if(result.data === \"Could not upload image.\") {\n                        alert(result.data)\n                    } else {\n                        alert(\"Image uplaoded successfully!\")\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n\n            } else {\n                alert(\"The file you attempted to upload is an invalid type. Please clear the field and try uploading a PNG, JPG/JPEG.\")\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}