{"remainingRequest":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/babel-loader/lib/index.js!/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/test/Capstone/vue/milestone8_titus/src/components/ListingBlock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/src/components/ListingBlock.vue","mtime":1614043632800},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/test/Capstone/vue/milestone8_titus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaXN0aW5nQmxvY2siLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0aW5nczogW10sCiAgICAgIGVycm9yczogW10sCiAgICAgIHJlbmRlcktleTogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIFlvdSBzaG91bGQgYmUgYWJsZSB0byBtb2RpZnkgdGhlIFVSTCBiYXNlZCBvbiB3aGF0IHRoZSBjdXJyZW50IHJvdXRlIGlzLgogICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0L21pbGVzdG9uZThfdGl0dXMvc3JjL2RiL2dldFVzZXJMaXN0aW5ncy5waHAvIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMubGlzdGluZ3MgPSByZXNwb25zZS5kYXRhOwogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICB0aGlzLmVycm9ycy5wdXNoKGVycm9yKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlTGlzdGluZzogZnVuY3Rpb24gZGVsZXRlTGlzdGluZyhpZCkgewogICAgICBjb25zb2xlLmxvZygiRGVsZXRlIHRoaXMgdGhpbmcgd2l0aCB0aGUgZm9sbG93aW5nIElEOiAiICsgaWQpOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0L21pbGVzdG9uZTYuMS9zcmMvZGIvZGVsZXRlVXNlckxpc3RpbmcucGhwJywgewogICAgICAgIGxpc3RpbmdJRDogaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICAgIGFsZXJ0KCdMaXN0aW5nIFN1Y2Nlc3NmdWxseSBEZWxldGVkJyk7IC8vIEEgdGVtcG9yb2FyeSBmaXguIFRyeSB0byBmaW5kIGEgd2F5IHRvIHJlLXJlbmRlciBjb21wb25lbnQgYXN5bmNocm9ub3VzbHkuCgogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgLy8gT25seSBhY2Nlc3MgdGhpcyBmdW5jdGlvbiBpZiB0aGUgcm91dGUgaXMgaW4gdGhlIHByb2ZpbGUuIEtlZXBzIG90aGVycyBmcm9tIGRlbGV0aW5nIHRoaXMgdXNlcidzIHBvc3RzLgogICAgcHJvZmlsZTogZnVuY3Rpb24gcHJvZmlsZSgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLmZ1bGxQYXRoID09ICIvdXNlci9teUxpc3RpbmdzIikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ListingBlock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA;AAAA;;AACA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,+DAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,KAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAPA;AAQA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,uBAAA,EAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,8CAAA,EAAA;AAEA,MAAA,KAAA,CAAA,IAAA,CAAA,4DAAA,EAAA;AACA,QAAA,SAAA,EAAA;AADA,OAAA,EAGA,IAHA,CAGA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OARA;AAUA,MAAA,KAAA,CAAA,8BAAA,CAAA,CAbA,CAeA;;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,KAlBA;AAmBA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,UAAA,KAAA,MAAA,CAAA,QAAA,IAAA,kBAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AACA;AA1BA;AApBA,CAAA","sourcesContent":["<template :key=\"renderKey\">\n    <div class=\"block\">\n        <v-container class=\"listingBlocks\">\n            <v-row class=\"d-flex justify-space-around\" v-if=\"!(this.listings === undefined) && this.listings.length != 0 && this.listings != 'No rows'\">\n                <v-card \n                    v-for=\"listing in listings\"\n                    :key=\"listing.listingID\"\n                    width=\"350\"\n                    class=\"listingCard\"\n                >\n                    <v-img\n                        class=\"white--text align-end\"\n                        height=\"200px\"\n                        src=\"https://via.placeholder.com/150\"\n                    >\n                        <v-card-title class=\"listingTitle\">{{ listing.productName }}</v-card-title>\n                    </v-img>\n\n                    <v-card-subtitle class=\"pb-10\">\n                        ${{ listing.price }}\n                    </v-card-subtitle>\n\n                    <v-card-text class=\"text--primary\">\n                        <p>{{ listing.description }}</p>\n                    </v-card-text>\n\n                    <v-card-actions>\n                        <v-btn\n                            color=\"primary\"\n                            text\n                            to=\"/listingView\"\n                        >\n                            View Listing\n                        </v-btn>\n\n                        <v-btn \n                            v-if=\"profile()\"\n                            color=\"primary\"\n                            text\n                            @click=\"deleteListing(listing.listingID)\"\n                        >\n                            Delete Listing\n                        </v-btn>\n                    </v-card-actions>\n                </v-card>\n            </v-row>\n            <div v-else>\n                <h3>You currently have no listings!</h3>\n            </div>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: \"ListingBlock\",\n    data() {\n        return {\n            listings: [],\n            errors: [],\n            renderKey: 0\n        }\n    },\n    mounted() {\n        // You should be able to modify the URL based on what the current route is.\n        axios.get(\"http://localhost/milestone8_titus/src/db/getUserListings.php/\")\n        .then(response => {\n            this.listings = response.data\n            console.log(response.data)\n        })\n        .catch(function (error) {\n            this.errors.push(error)\n        })\n    },\n    methods: {\n        deleteListing: function(id) {\n            console.log(\"Delete this thing with the following ID: \" + id)\n\n            axios.post('http://localhost/milestone6.1/src/db/deleteUserListing.php', {\n                listingID: id\n            })\n            .then(function(response) {\n                console.log(response)\n            })\n            .catch(function(error) {\n                console.log(error)\n            })\n\n            alert('Listing Successfully Deleted')\n            \n            // A temporoary fix. Try to find a way to re-render component asynchronously.\n            window.location.reload()\n        },\n        // Only access this function if the route is in the profile. Keeps others from deleting this user's posts.\n        profile: function() {\n            if(this.$route.fullPath == \"/user/myListings\") {\n                return true\n            } else {\n                return false\n            }\n        }\n\n\n    }\n\n}\n</script>\n\n<style scoped>\n\n.listingTitle {\n    color: black;\n}\n\n.listingBlocks {\n    margin-top: 3rem;\n}\n\n.listingCard {\n    margin: 1.0rem;\n}\n</style>"],"sourceRoot":"src/components"}]}