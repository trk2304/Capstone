{"remainingRequest":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/babel-loader/lib/index.js!/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/views/Listings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/views/Listings.vue","mtime":1615779285665},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEZpbHRlckxpc3RpbmcgZnJvbSAnLi4vY29tcG9uZW50cy9GaWx0ZXJMaXN0aW5nLnZ1ZSc7CmltcG9ydCBMaXN0aW5nIGZyb20gJy4uL2NvbXBvbmVudHMvTGlzdGluZy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpc3RpbmdzJywKICBjb21wb25lbnRzOiB7CiAgICBGaWx0ZXJMaXN0aW5nOiBGaWx0ZXJMaXN0aW5nLAogICAgTGlzdGluZzogTGlzdGluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5OiAnJywKICAgICAgbGlzdGluZ3M6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2V0RmlsdGVyOiBmdW5jdGlvbiBzZXRGaWx0ZXIodmFsdWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh2YWx1ZSA9PSAnJykgewogICAgICAgIGFsZXJ0KCJZb3UgY2FuIG9ubHkgYXBwbHkgYSBmaWx0ZXIgb25jZSB5b3UgaGF2ZSBjaG9zZW4gb25lLiIpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdhbGwnKSB7CiAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbWlkbi5jcy51c25hLmVkdS9NaWRUcmFkZS9DYXBzdG9uZS92dWUvbWlsZXN0b25lOV90aXR1cy9zcmMvZGIvZ2V0QWxsTGlzdGluZ3MucGhwJykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy5saXN0aW5ncyA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMubGlzdGluZ3MpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gdmFsdWU7CiAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbWlkbi5jcy51c25hLmVkdS9NaWRUcmFkZS9DYXBzdG9uZS92dWUvbWlsZXN0b25lOV90aXR1cy9zcmMvZGIvZ2V0TGlzdGluZ0J5Q2F0ZWdvcnkucGhwP2NhdGVnb3J5PSIgKyB0aGlzLmNhdGVnb3J5KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIF90aGlzLmxpc3RpbmdzID0gcmVzdWx0LmRhdGE7CgogICAgICAgICAgX3RoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgYXhpb3MuZ2V0KCdodHRwOi8vbWlkbi5jcy51c25hLmVkdS9NaWRUcmFkZS9DYXBzdG9uZS92dWUvbWlsZXN0b25lOV90aXR1cy9zcmMvZGIvZ2V0QWxsTGlzdGluZ3MucGhwJykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIF90aGlzMi5saXN0aW5ncyA9IHJlc3VsdC5kYXRhOwogICAgICBjb25zb2xlLmxvZyhfdGhpczIubGlzdGluZ3MpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["Listings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,aAAA,MAAA,iCAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA,aADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,KAAA,EAAA;AAAA;;AACA,UAAA,KAAA,IAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,uDAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,IAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,0FAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,SAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,SAPA;AAQA,OATA,MASA;AACA,aAAA,QAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,6GAAA,KAAA,QAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,YAAA;AACA,SAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,SAPA;AAQA;AACA;AAxBA,GAZA;AAsCA,EAAA,OAtCA,qBAsCA;AAAA;;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,0FAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,KAPA;AAQA;AA/CA,CAAA","sourcesContent":["<template>\n    <v-container>\n \n      <br> \n      <h1 class=\"display-1\">Explore Listings on MidTrade Now</h1>\n\n      <div>\n        <FilterListing @applyFilter=\"setFilter\"/>\n      </div>\n\n      <v-row>\n          <Listing     \n            v-for=\"listing in listings\"\n            :listing=\"listing\"\n            :key=\"listing.listingID\"\n            class=\"listing\"\n          />\n      </v-row>\n\n    </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport FilterListing from '../components/FilterListing.vue'\nimport Listing from '../components/Listing.vue'\nexport default {\n  name: 'Listings',\n  components: {\n    FilterListing,\n    Listing\n  },\n  data() {\n    return {\n      category: '',\n      listings: ''\n    }\n  },\n  methods: {\n    setFilter: function(value) {\n      if(value == '') {\n        alert(\"You can only apply a filter once you have chosen one.\")\n      } else if (value == 'all') {\n        axios.get('http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/getAllListings.php')\n        .then(result => {\n           this.listings = result.data\n           console.log(this.listings)\n        })\n        .catch(e => {\n          console.log(e)\n        })\n      } else {\n         this.category = value\n          axios.get(\"http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/getListingByCategory.php?category=\" + this.category)\n          .then(result => {\n            this.listings = result.data\n            this.$forceUpdate()\n          })\n          .catch(e => {\n            console.log(e)\n          })\n      }\n    }\n  },\n  created() {\n    axios.get('http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/getAllListings.php')\n    .then(result => {\n       this.listings = result.data\n       console.log(this.listings)\n    })\n    .catch(e => {\n      console.log(e)\n    })\n  }\n}\n</script>\n\n<style scoped>\n.listing {\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n}\n</style>\n\n"],"sourceRoot":"src/views"}]}