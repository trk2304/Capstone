{"remainingRequest":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/components/UploadProfilePic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/components/UploadProfilePic.vue","mtime":1615755472856},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlVwbG9hZFByb2ZpbGVQaWMiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxlSW5wdXQ6ICcnLAogICAgICAgICAgICB2YWxpZFR5cGVzOiBbImltYWdlL2pwZyIsICJpbWFnZS9qcGVnIiwgImltYWdlL3BuZyJdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uKCkgeyAgICAgICAgICAgIAogICAgICAgICAgICBpZih0aGlzLnZhbGlkVHlwZXMuaW5jbHVkZXModGhpcy5maWxlSW5wdXQudHlwZSkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUaGlzIGlzIGEgdmFsaWQgZmlsZSIpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVJbnB1dCkKCiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZm9ybURhdGEgb2JqZWN0CiAgICAgICAgICAgICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZmQuYXBwZW5kKCdpbWFnZScsIHRoaXMuZmlsZUlucHV0LCB0aGlzLmZpbGVJbnB1dC5uYW1lKQogICAgICAgICAgICAgICAgZmQuYXBwZW5kKCd1c2VySUQnLCB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIpCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbWlkbi5jcy51c25hLmVkdS9NaWRUcmFkZS9DYXBzdG9uZS92dWUvbWlsZXN0b25lOV90aXR1cy9zcmMvZGIvaGFuZGxlUHJvZmlsZUltYWdlLnBocCIsIGZkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZGF0YSA9PT0gIkNvdWxkIG5vdCB1cGxvYWQgaW1hZ2UuIikgewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQuZGF0YSkKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiSW1hZ2UgdXBsYW9kZWQgc3VjY2Vzc2Z1bGx5ISIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGUgZmlsZSB5b3UgYXR0ZW1wdGVkIHRvIHVwbG9hZCBpcyBhbiBpbnZhbGlkIHR5cGUuIFBsZWFzZSBjbGVhciB0aGUgZmllbGQgYW5kIHRyeSB1cGxvYWRpbmcgYSBQTkcsIEpQRy9KUEVHLiIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["UploadProfilePic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"UploadProfilePic.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <v-container>\n            <v-row justify=\"center\">\n                <v-col cols=\"12\">\n                    <v-form id=\"uploadProfilePic\" @submit.prevent=\"validateForm()\">\n                        <h2>Change Profile Picture:</h2>\n                        <v-file-input\n                            v-model=\"fileInput\"\n                            label=\"Click to Access File Browser:\"\n                            counter\n                            clearable\n                            :rules=\"['Required']\"\n                        ></v-file-input>\n                        <br>\n                        <v-btn\n                            type=\"submit\"\n                            color=\"primary\"\n                            rounded\n                            form=\"uploadProfilePic\"\n\n                        >\n                            Upload This Picture\n                        </v-btn>\n                    </v-form>\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: \"UploadProfilePic\",\n    data() {\n        return {\n            fileInput: '',\n            validTypes: [\"image/jpg\", \"image/jpeg\", \"image/png\"]\n        }\n    },\n    methods: {\n        validateForm: function() {            \n            if(this.validTypes.includes(this.fileInput.type)) {\n                console.log(\"This is a valid file\")\n                console.log(this.fileInput)\n\n                // Create formData object\n                const fd = new FormData();\n                fd.append('image', this.fileInput, this.fileInput.name)\n                fd.append('userID', this.$store.getters.getUser)\n                axios.post(\"http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/handleProfileImage.php\", fd)\n                .then(result => {\n                    if(result.data === \"Could not upload image.\") {\n                        alert(result.data)\n                    } else {\n                        alert(\"Image uplaoded successfully!\")\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n\n            } else {\n                alert(\"The file you attempted to upload is an invalid type. Please clear the field and try uploading a PNG, JPG/JPEG.\")\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}