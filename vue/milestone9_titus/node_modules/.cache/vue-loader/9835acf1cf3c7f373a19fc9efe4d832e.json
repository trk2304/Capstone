{"remainingRequest":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/components/EditListing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/components/EditListing.vue","mtime":1615766175621},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRWRpdExpc3RpbmcnLAogIHByb3BzOiBbJ2xpc3RpbmcnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogdGhpcy5saXN0aW5nLAogICAgICBwcm9kdWN0TmFtZTogJycsCiAgICAgIHByb2R1Y3RQcmljZTogJycsCiAgICAgIHByb2R1Y3REZXNjcmlwdGlvbjonJwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGNoZWNrQW5kU3VibWl0OiBmdW5jdGlvbigpIHsKICAgICAgaWYodGhpcy5saXN0aW5nLnByb2R1Y3ROYW1lID09IG51bGwgfHwgdGhpcy5saXN0aW5nLnByaWNlID09IG51bGwgfHwgdGhpcy5saXN0aW5nLmRlc2NyaXB0aW9uID09IG51bGwpIHsKICAgICAgICBhbGVydCgnRW5zdXJlIGFsbCBmaWVsZHMgYXJlIGZpbGxlZCBvdXQhJykgCiAgICAgIH0gZWxzZSB7CiAgICAgICAgIGlmKHRoaXMubGlzdGluZy5wcmljZSA8IDApIHsKICAgICAgICAgICAgdGhpcy5saXN0aW5nLnByaWNlID0gTWF0aC5hYnModGhpcy5saXN0aW5nLnByaWNlKQogICAgICAgICAgfQogICAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL21pZG4uY3MudXNuYS5lZHUvTWlkVHJhZGUvQ2Fwc3RvbmUvdnVlL21pbGVzdG9uZTlfdGl0dXMvc3JjL2RiL2VkaXRVc2VyTGlzdGluZy5waHAiLCB7CiAgICAgICAgICAgIG5hbWU6IHRoaXMubGlzdGluZy5wcm9kdWN0TmFtZSwKICAgICAgICAgICAgcHJpY2U6IHRoaXMubGlzdGluZy5wcmljZSwKICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMubGlzdGluZy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgaWQ6IHRoaXMubGlzdGluZy5saXN0aW5nSUQKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgICBhbGVydCgiQ2hhbmdlcyBzYXZlZCEiKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICB9KSAKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["EditListing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditListing.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-dialog max-width=\"600px\">\n    <template v-slot:activator=\"{on, attrs}\">\n    <v-btn color=\"primary\" text v-bind=\"attrs\" v-on=\"on\">Edit Listing</v-btn>\n    </template>\n    <v-card>\n      <v-card-title>\n        <h2>Edit Listing: {{this.data.productName}}</h2> \n      </v-card-title>\n\n      <v-card-text>\n          <v-form>\n          <v-container>\n            <p>This listing's current details are currently pre-filled. You can individually select which portions you want to change, then finalize your changes. Don't change things that you don't need to!</p>\n            <v-row>\n              \n              <v-col cols=\"9\">\n                <v-text-field\n                  label=\"Product Name\"\n                  v-model.trim=\"listing.productName\"\n                  required\n                  clearable\n                >\n                  \n                </v-text-field>\n              </v-col>\n                \n               <v-col cols=\"3\">\n                <v-text-field\n                  label=\"Price\"\n                  v-model.trim=\"listing.price\"\n                  required\n                  type=\"number\"\n                  clearable\n                >\n                </v-text-field>\n              </v-col>\n            </v-row>\n\n            <v-row>\n              <v-col cols=\"12\">\n                <v-textarea\n                  label=\"Product Description\"\n                  v-model.trim=\"listing.description\"\n                  required\n                  clearable\n                >\n                   \n                </v-textarea>\n              </v-col>\n            </v-row>\n    \n      \n          </v-container>\n          </v-form>\n      </v-card-text>\n \n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          @click=\"checkAndSubmit()\"  \n        >\n          Save Changes\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog> \n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'EditListing',\n  props: ['listing'],\n  data() {\n    return {\n      data: this.listing,\n      productName: '',\n      productPrice: '',\n      productDescription:''\n    }\n  },\n\n  methods: {\n    checkAndSubmit: function() {\n      if(this.listing.productName == null || this.listing.price == null || this.listing.description == null) {\n        alert('Ensure all fields are filled out!') \n      } else {\n         if(this.listing.price < 0) {\n            this.listing.price = Math.abs(this.listing.price)\n          }\n          axios.post(\"http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/editUserListing.php\", {\n            name: this.listing.productName,\n            price: this.listing.price,\n            description: this.listing.description,\n            id: this.listing.listingID\n          })\n          .then(response => {\n            console.log(response)\n            alert(\"Changes saved!\");\n          })\n          .catch(e => {\n            console.log(e)\n          }) \n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}