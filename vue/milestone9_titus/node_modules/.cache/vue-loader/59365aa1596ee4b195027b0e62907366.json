{"remainingRequest":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/views/Listings.vue?vue&type=style&index=0&id=7d3a5929&scoped=true&lang=css&","dependencies":[{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/src/views/Listings.vue","mtime":1615779513681},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/MidTrade/Capstone/vue/milestone9_titus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxpc3RpbmcgewogIG1hcmdpbi10b3A6IDJyZW07CiAgbWFyZ2luLWJvdHRvbTogMnJlbTsKfQo="},{"version":3,"sources":["Listings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA","file":"Listings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container>\n \n      <br> \n      <h1 class=\"display-1\">Explore Listings on MidTrade Now</h1>\n\n      <div>\n        <FilterListing @applyFilter=\"setFilter\"/>\n      </div>\n\n      <v-row>\n          <Listing     \n            v-for=\"listing in listings\"\n            :listing=\"listing\"\n            :key=\"listing.listingID\"\n            class=\"listing\"\n          />\n      </v-row>\n\n    </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport FilterListing from '../components/FilterListing.vue'\nimport Listing from '../components/Listing.vue'\nexport default {\n  name: 'Listings',\n  components: {\n    FilterListing,\n    Listing\n  },\n  data() {\n    return {\n      category: '',\n      listings: ''\n    }\n  },\n  methods: {\n    setFilter: function(value) {\n      if(value == '') {\n        alert(\"You can only apply a filter once you have chosen one.\")\n      } else if (value == 'all') {\n        axios.get('http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/getAllListings.php')\n        .then(result => {\n           this.listings = result.data\n        })\n        .catch(e => {\n          console.log(e)\n        })\n      } else {\n         this.category = value\n          axios.get(\"http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/getListingByCategory.php?category=\" + this.category)\n          .then(result => {\n            if(result.data == \"No rows\")\n              alert('Sorry, there currently aren't any items in this category.')\n            else { \n              this.listings = result.data\n              this.$forceUpdate()\n            }\n          })\n          .catch(e => {\n            console.log(e)\n          })\n      }\n    }\n  },\n  created() {\n    axios.get('http://midn.cs.usna.edu/MidTrade/Capstone/vue/milestone9_titus/src/db/getAllListings.php')\n    .then(result => {\n       this.listings = result.data\n       console.log(this.listings)\n    })\n    .catch(e => {\n      console.log(e)\n    })\n  }\n}\n</script>\n\n<style scoped>\n.listing {\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n}\n</style>\n\n"]}]}